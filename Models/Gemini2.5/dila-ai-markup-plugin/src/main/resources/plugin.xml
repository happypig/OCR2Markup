<?xml version="1.0" encoding="UTF-8"?>
<!-- The plugin.dtd file is located in the OXYGEN_INSATALL_DIR/plugins directory -->
<!DOCTYPE plugin SYSTEM "../plugin.dtd">

<plugin 
       id="com.dila.ai.markup" 
       name="DILA AI Markup Assistant"
       version="0.4.0" 
       vendor="DILA"
       classLoaderType="preferReferencedResources">

       <description>
              <p>This plugin provides an AI-empowered markup assistant for editing TEI XML documents.</p>
              <h3>Release Notes v0.4.0:</h3>
              <ul>
                     <li><strong>Ref-to-Link Action:</strong> Convert selected &lt;ref&gt; elements to CBRD links and replace existing &lt;ptr&gt; safely</li>
                     <li><strong>CBRD Preferences:</strong> Configurable endpoint, referer, and timeout settings</li>
                     <li><strong>Validation &amp; Errors:</strong> Clear feedback for invalid selections, missing components, and API failures</li>
              </ul>
              <h3>Release Notes v0.3.0:</h3>
              <ul>
                     <li><strong>Complete Java Migration:</strong> Migrated entire implementation from JavaScript to pure Java for better performance and reliability
                         <ul>
                             <li><strong>Pure Java UI:</strong> Eliminated JavaScript-Java bridge issues with native Swing implementation</li>
                             <li><strong>AI Markup Integration:</strong> Native Java integration with LLM APIs for markup processing</li>
                             <li><strong>Tag Removal:</strong> Efficient Java-based XML/HTML tag removal functionality</li>
                         </ul>
                     </li>
                     <li><strong>Enhanced UTF-8 Tools:</strong> Improved file encoding validation and conversion with automatic backup creation
                         <ul>
                             <li>Support for common text file formats and recursive directory scanning</li>
                         </ul>
                     </li>
              </ul>
              <h3>Release Notes v0.2.3:</h3>
              <ul>
                     <li>Oxygen Integrated Options-Preferences page for setting ft LLM models and API key</li>
              </ul>
              <h3>Release Notes v0.2.2:</h3>
              <ul>
                     <li>Options saved with Oxygen's wsOptionsStorage approach</li>
                     <li>API key saved and retrieved with better security by Oxygen's secretOption</li>
              </ul>
              <h3>Release Notes v0.2.1:</h3>
              <ul>
                     <li>Issue fixed: Error calling LLM after saving options caused by API key handling</li>
              </ul>
              <h3>Release Notes v0.2.0:</h3>
              <ul>
                     <li>Multi-language support (English, Chinese-Traditional Chinese for plugin only)</li>
                     <li>Custom Options-Preferences page for setting ft LLM models and API key</li>
              </ul>
              <h3>Release Notes v0.1.0:</h3>
              <ul>
                     <li>AI-driven markup for unmarked references</li>
                     <li>TEI tag removal</li>
              </ul>
       </description>

       <runtime>
              <library name="lib/dila-ai-markup-plugin-0.4.0.jar" />
       </runtime>

       <extension 
              type="WorkspaceAccess" 
              class="com.dila.dama.plugin.workspace.DAMAWorkspaceAccessPluginExtension"/>
              
       <!-- Note: Complete Java Implementation - All functionality migrated from JavaScript to pure Java. -->

       <extension 
              type="OptionPage" 
              class="com.dila.dama.plugin.preferences.DAMAOptionPagePluginExtension"/>
              
       <view 
              id="dila.ai.markup.view"
              initialSide="WEST"
              initialState="docked"/>
</plugin>
